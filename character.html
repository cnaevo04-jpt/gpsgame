<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>å›½é“å†’é™ºè¨˜ - ã‚­ãƒ£ãƒ©å›³é‘‘</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            margin: 0;
            font-size: 1.8em;
            color: #4a90e2;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .collection-stats {
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            background: rgba(74, 144, 226, 0.1);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            color: #4a90e2;
            font-weight: 600;
        }
        
        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .filter-tab {
            background: rgba(255, 255, 255, 0.7);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s ease;
            color: #666;
        }
        
        .filter-tab.active {
            background: #4a90e2;
            color: white;
            box-shadow: 0 2px 10px rgba(74, 144, 226, 0.3);
        }
        
        .character-grid {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
        }
        
        .character-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-align: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
        }
        
        .character-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .character-card.locked {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .character-card.locked:hover {
            transform: translateY(-3px);
        }
        
        .image-container {
            width: 100%;
            height: 140px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .image-container.unlocked {
            background: linear-gradient(45deg, #4a90e2, #667eea);
        }
        
        .image-container.locked {
            background: linear-gradient(45deg, #bbb, #ddd);
            position: relative;
        }
        
        .image-container.locked::before {
            content: 'ğŸ”’';
            font-size: 3em;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
        
        .character-emoji {
            font-size: 4em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .character-card.locked .character-emoji {
            filter: grayscale(100%) brightness(0.5);
            opacity: 0.3;
        }
        
        .details {
            padding: 15px 10px;
        }
        
        .character-name {
            margin: 0 0 5px;
            font-size: 1.1em;
            font-weight: 600;
            color: #444;
        }
        
        .character-card.locked .character-name {
            color: #999;
        }
        
        .road-info {
            margin: 0 0 8px;
            font-size: 0.9em;
            color: #4a90e2;
            font-weight: 500;
        }
        
        .character-card.locked .road-info {
            color: #bbb;
        }
        
        .completion-status {
            font-size: 0.8em;
            padding: 4px 8px;
            border-radius: 12px;
            display: inline-block;
            font-weight: 500;
        }
        
        .status-completed {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
        }
        
        .status-locked {
            background: rgba(158, 158, 158, 0.2);
            color: #9e9e9e;
        }
        
        .navbar {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 10px 0;
            box-shadow: 0 -4px 15px rgba(0,0,0,0.1);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .nav-item {
            text-align: center;
            flex: 1;
            text-decoration: none;
            color: #888;
            transition: all 0.2s;
            padding: 5px;
            border-radius: 10px;
        }
        
        .nav-item.active {
            color: #4a90e2;
            background: rgba(74, 144, 226, 0.1);
        }
        
        .nav-item:hover {
            color: #4a90e2;
            background: rgba(74, 144, 226, 0.05);
        }
        
        .nav-icon {
            height: 24px;
            width: 24px;
            display: block;
            margin: 0 auto 5px;
            font-size: 20px;
        }
        
        .nav-item span {
            font-size: 0.8em;
            font-weight: 500;
        }
        
        /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            max-width: 350px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .modal-character-emoji {
            font-size: 5em;
            margin-bottom: 15px;
            display: block;
        }
        
        .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }
        
        @media (max-width: 480px) {
            .character-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
                padding: 15px;
            }
            
            .collection-stats {
                position: static;
                transform: none;
                margin-top: 10px;
                display: inline-block;
            }
            
            .header {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸŒ ã‚­ãƒ£ãƒ©å›³é‘‘</h1>
        <div class="collection-stats" id="collectionStats">
            ğŸ† 12 / 47 (25%)
        </div>
        
        <div class="filter-tabs">
            <button class="filter-tab active" onclick="filterCharacters('all')">å…¨ã¦</button>
            <button class="filter-tab" onclick="filterCharacters('unlocked')">å…¥æ‰‹æ¸ˆã¿</button>
            <button class="filter-tab" onclick="filterCharacters('locked')">æœªå…¥æ‰‹</button>
        </div>
    </div>
    
    <div class="character-grid" id="characterGrid">
        <!-- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰ã¯JSã§å‹•çš„ç”Ÿæˆ -->
    </div>
    
    <!-- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="modal" id="characterModal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal()">&times;</button>
            <div class="modal-character-emoji" id="modalEmoji">ğŸš—</div>
            <h2 id="modalName">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å</h2>
            <p id="modalRoad">å›½é“1å·</p>
            <p id="modalDescription">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®èª¬æ˜ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
            <div id="modalStats"></div>
        </div>
    </div>
    
    <nav class="navbar">
        <a href="gps9" class="nav-item">
            <span class="nav-icon">ğŸ—ºï¸</span>
            <span>ãƒãƒƒãƒ—</span>
        </a>
        <a href="#" class="nav-item active">
            <span class="nav-icon">ğŸ‘¥</span>
            <span>ã‚­ãƒ£ãƒ©å›³é‘‘</span>
        </a>
        <a href="#" class="nav-item">
            <span class="nav-icon">â¤ï¸</span>
            <span>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</span>
        </a>
        <a href="#" class="nav-item">
            <span class="nav-icon">âš™ï¸</span>
            <span>è¨­å®š</span>
        </a>
    </nav>

    <script>
        // å›½é“ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
        const characters = [
            // ä¸»è¦å›½é“ (1-10å·)
            { id: 1, name: "ã„ã¡ã‚ã†", emoji: "ğŸš—", road: 1, unlocked: true, description: "æ±æµ·é“ã®å®ˆè­·è€…ã€‚æ±äº¬ã‹ã‚‰å¤§é˜ªã‚’çµã¶æ­´å²ã‚ã‚‹å›½é“ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€‚" },
            { id: 2, name: "ã«ã˜ã‹", emoji: "ğŸŒˆ", road: 2, unlocked: true, description: "å±±é™½é“ã®æ¡ˆå†…å½¹ã€‚å¤§é˜ªã‹ã‚‰ä¹å·ã¸ã¨ç¶šãé•·ã„æ—…è·¯ã®ä»²é–“ã€‚" },
            { id: 3, name: "ã•ã¶ã‚ã†", emoji: "â›©ï¸", road: 3, unlocked: false, description: "ä¹å·ç¸¦æ–­ã®æ—…äººã€‚ç¦å²¡ã‹ã‚‰é¹¿å…å³¶ã¾ã§ä¹å·ã‚’ç¸¦ã«è²«ãé“ã®ç²¾éœŠã€‚" },
            { id: 4, name: "ã‚ˆã¤ã°", emoji: "ğŸ€", road: 4, unlocked: false, description: "æ±åŒ—ã¸ã®é“æ¨™ã€‚æ±äº¬ã‹ã‚‰é’æ£®ã¸ã®é•·ã„é“ã®ã‚Šã‚’è¦‹å®ˆã‚‹å­˜åœ¨ã€‚" },
            { id: 5, name: "ã”ã‚ã†", emoji: "ğŸ—¾", road: 5, unlocked: false, description: "æ—¥æœ¬æµ·ã®é¢¨ã‚’é‹ã¶ã€‚æ–°æ½Ÿã‹ã‚‰å±±å½¢ã€ç§‹ç”°ã¸ã¨ç¶šãæµ·æ²¿ã„ã®é“ã®ç•ªäººã€‚" },
            { id: 6, name: "ã‚ãã™ã‘", emoji: "ğŸ”ï¸", road: 6, unlocked: false, description: "å±±é–“ã®æ¡ˆå†…è€…ã€‚ç¾¤é¦¬ã‹ã‚‰æ–°æ½Ÿã¸ã®å³ é“ã‚’çŸ¥ã‚Šå°½ãã—ãŸã‚¬ã‚¤ãƒ‰ã€‚" },
            { id: 7, name: "ãªãªã“", emoji: "ğŸŒ¸", road: 7, unlocked: false, description: "æ¡œå‰ç·šã¨å…±ã«ã€‚ç¦å³¶ã‹ã‚‰æ–°æ½Ÿã¸ã¨ç¶šãèŠ±ã®é“ã®å¦–ç²¾ã€‚" },
            { id: 8, name: "ã¯ã¡ã¹ãˆ", emoji: "ğŸ‹", road: 8, unlocked: false, description: "é–¢è¥¿ã®çµã³æ‰‹ã€‚äº¬éƒ½ã‹ã‚‰å’Œæ­Œå±±ã€å¥ˆè‰¯ã‚’çµã¶å¤éƒ½ã®å®ˆã‚Šç¥ã€‚" },
            { id: 9, name: "ãã‚…ã†ã¡ã‚ƒã‚“", emoji: "ğŸŒ", road: 9, unlocked: false, description: "é–¢æ±ã®å¤§å‹•è„ˆã€‚æ±äº¬éƒ½å¿ƒã‹ã‚‰èŒ¨åŸã¸ã¨å‘ã‹ã†ç¾ä»£ã®é“ã—ã‚‹ã¹ã€‚" },
            { id: 10, name: "ã¨ãŠã‚‹", emoji: "ğŸŒŠ", road: 10, unlocked: false, description: "å¤ªå¹³æ´‹ã®é¢¨ã€‚æ±äº¬ã‹ã‚‰é™å²¡ã¸ã¨ç¶šãæµ·å²¸ç·šã®æ¡ˆå†…è€…ã€‚" },
            
            // ä¸­è·é›¢å›½é“ (11-30å·)
            { id: 11, name: "ã˜ã‚…ã†ã„ã¡", emoji: "ğŸ¦Œ", road: 11, unlocked: false, description: "å¥ˆè‰¯ã®ä½¿è€…ã€‚å¥ˆè‰¯ã‹ã‚‰å’Œæ­Œå±±ã¸ã®å¤é“ã®é¹¿ã®ç²¾éœŠã€‚" },
            { id: 12, name: "ã˜ã‚…ã†ã«", emoji: "ğŸ­", road: 12, unlocked: false, description: "å››å›½ã®èŠ¸èƒ½ç¥ã€‚å¾³å³¶ã‹ã‚‰é«˜çŸ¥ã¸ã®é™ºã—ã„é“ã®å®ˆè­·è€…ã€‚" },
            { id: 15, name: "ã˜ã‚…ã†ã”", emoji: "ğŸŠ", road: 15, unlocked: false, description: "ã¿ã‹ã‚“ã®å›½ã‹ã‚‰ã€‚é™å²¡ã‹ã‚‰é•·é‡ã¸ã®å±±å²³ãƒ«ãƒ¼ãƒˆã®æ¡ˆå†…å½¹ã€‚" },
            { id: 16, name: "ã˜ã‚…ã†ã‚ã", emoji: "ğŸ¯", road: 16, unlocked: false, description: "åŸä¸‹ç”ºå·¡ã‚Šã€‚åå¤å±‹ã‹ã‚‰å²é˜œã¸ã®æ­´å²è¡—é“ã®æ­¦è€…ã€‚" },
            { id: 17, name: "ã˜ã‚…ã†ãªãª", emoji: "ğŸ¿", road: 17, unlocked: false, description: "é›ªå›½ã¸ã®é“ã€‚é«˜å´ã‹ã‚‰æ–°æ½Ÿã¸ã®å³ è¶Šãˆã®é›ªã ã‚‹ã¾ã€‚" },
            { id: 18, name: "ã˜ã‚…ã†ã¯ã¡", emoji: "ğŸŒº", road: 18, unlocked: false, description: "å—å›½ã®é¢¨ã€‚é«˜çŸ¥ã‹ã‚‰å®¿æ¯›ã¸ã®å¤ªå¹³æ´‹å²¸ã®èŠ±ã®ç²¾ã€‚" },
            { id: 19, name: "ã˜ã‚…ã†ãã‚…ã†", emoji: "ğŸ‘", road: 19, unlocked: false, description: "æ¡ƒã®å›½ã‹ã‚‰ã€‚ç”²åºœã‹ã‚‰é•·é‡ã¸ã®æœæ¨¹åœ’ã®å¦–ç²¾ã€‚" },
            { id: 20, name: "ã¯ãŸã¡", emoji: "ğŸ”ï¸", road: 20, unlocked: false, description: "é£›é¨¨å±±è„ˆã®ç•ªäººã€‚å¡©å°»ã‹ã‚‰æ¾æœ¬ã¸ã®å±±å²³åœ°å¸¯ã®å²©çŸ³ç²¾éœŠã€‚" },
            { id: 23, name: "ã«ã˜ã‚…ã†ã•ã‚“", emoji: "ğŸ¦‹", road: 23, unlocked: false, description: "è¶ã®èˆã„è¸Šã‚‹é“ã€‚è±Šæ©‹ã‹ã‚‰é£¯ç”°ã¸ã®å—ã‚¢ãƒ«ãƒ—ã‚¹éº“ã®æ¡ˆå†…è€…ã€‚" },
            { id: 24, name: "ã«ã˜ã‚…ã†ã‚ˆã‚“", emoji: "ğŸŒ¿", road: 24, unlocked: false, description: "æ£®ã®æ¡ˆå†…äººã€‚å’Œæ­Œå±±ã‹ã‚‰å¥ˆè‰¯ã¸ã®ç´€ä¼Šå±±åœ°ã®ç·‘ã®ç²¾éœŠã€‚" },
            { id: 25, name: "ã«ã˜ã‚…ã†ã”", emoji: "ğŸµ", road: 25, unlocked: true, description: "ãŠèŒ¶ã®é¦™ã‚Šé“ã€‚åå¤å±‹ã‹ã‚‰å¥ˆè‰¯ã¸ã®å¤éƒ½çµã¶èŒ¶ã®å¦–ç²¾ã€‚" },
            
            // åœ°æ–¹å›½é“
            { id: 176, name: "ã²ã‚ƒããªãªã˜ã‚…ã†ã‚ã", emoji: "ğŸ‹", road: 176, unlocked: true, description: "ç«¹æ—ã®æ¡ˆå†…è€…ã€‚å¤§é˜ªã‹ã‚‰äº¬éƒ½ã¸ã®ç¾ã—ã„ç«¹ã®é“ã®ç²¾éœŠã€‚" },
            { id: 246, name: "ã«ã²ã‚ƒãã‚ˆã‚“ã˜ã‚…ã†ã‚ã", emoji: "ğŸŒˆ", road: 246, unlocked: false, description: "è™¹ã®æ¶ã‘æ©‹ã€‚æ±äº¬ã‹ã‚‰æ²¼æ´¥ã¸ã®æ±æµ·é“ã®ç¾ä»£ç‰ˆæ¡ˆå†…å½¹ã€‚" },
            
            // è¿½åŠ ã®åœ°æ–¹å›½é“ï¼ˆä¾‹ï¼‰
            { id: 45, name: "ã‚ˆã‚“ã˜ã‚…ã†ã”", emoji: "ğŸ€", road: 45, unlocked: false, description: "åŒ—æµ·é“ã®å¤§åœ°ã€‚æœ­å¹Œã‹ã‚‰æ ¹å®¤ã¸ã®é“æ±ã®æ¡ˆå†…è€…ã€‚" },
            { id: 58, name: "ã”ã˜ã‚…ã†ã¯ã¡", emoji: "ğŸŒº", road: 58, unlocked: false, description: "æ²–ç¸„ã®é¢¨ã€‚é‚£è¦‡ã‹ã‚‰åè­·ã¸ã®å—å›½ã®é“ã®ç²¾éœŠã€‚" },
        ];
        
        let currentFilter = 'all';
        let unlockedCharacters = JSON.parse(localStorage.getItem('unlockedCharacters')) || [1, 2, 25, 176];
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ãƒ­ãƒƒã‚¯çŠ¶æ…‹ã‚’æ›´æ–°
        function updateCharacterUnlockStatus() {
            characters.forEach(char => {
                char.unlocked = unlockedCharacters.includes(char.road);
            });
        }
        
        // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³çµ±è¨ˆã‚’æ›´æ–°
        function updateCollectionStats() {
            const total = characters.length;
            const unlocked = characters.filter(char => char.unlocked).length;
            const percentage = Math.round((unlocked / total) * 100);
            
            document.getElementById('collectionStats').textContent = `ğŸ† ${unlocked} / ${total} (${percentage}%)`;
        }
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚«ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
        function createCharacterCard(character) {
            const isUnlocked = character.unlocked;
            
            return `
                <div class="character-card ${isUnlocked ? 'unlocked' : 'locked'}" 
                     onclick="showCharacterDetails(${character.id})">
                    <div class="image-container ${isUnlocked ? 'unlocked' : 'locked'}">
                        <div class="character-emoji">${isUnlocked ? character.emoji : 'â“'}</div>
                    </div>
                    <div class="details">
                        <h3 class="character-name">${isUnlocked ? character.name : '???'}</h3>
                        <p class="road-info">${isUnlocked ? `å›½é“${character.road}å·` : 'å›½é“???å·'}</p>
                        <div class="completion-status ${isUnlocked ? 'status-completed' : 'status-locked'}">
                            ${isUnlocked ? 'âœ“ å…¥æ‰‹æ¸ˆã¿' : 'ğŸ”’ æœªå…¥æ‰‹'}
                        </div>
                    </div>
                </div>
            `;
        }
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è¦§ã‚’è¡¨ç¤º
        function displayCharacters() {
            updateCharacterUnlockStatus();
            
            let filteredCharacters;
            switch(currentFilter) {
                case 'unlocked':
                    filteredCharacters = characters.filter(char => char.unlocked);
                    break;
                case 'locked':
                    filteredCharacters = characters.filter(char => !char.unlocked);
                    break;
                default:
                    filteredCharacters = characters;
            }
            
            // å›½é“ç•ªå·é †ã«ã‚½ãƒ¼ãƒˆ
            filteredCharacters.sort((a, b) => a.road - b.road);
            
            const grid = document.getElementById('characterGrid');
            grid.innerHTML = filteredCharacters.map(createCharacterCard).join('');
            
            updateCollectionStats();
        }
        
        // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
        function filterCharacters(filter) {
            currentFilter = filter;
            
            // ã‚¿ãƒ–ã®è¦‹ãŸç›®æ›´æ–°
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            displayCharacters();
        }
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è©³ç´°è¡¨ç¤º
        function showCharacterDetails(characterId) {
            const character = characters.find(char => char.id === characterId);
            if (!character) return;
            
            const modal = document.getElementById('characterModal');
            const isUnlocked = character.unlocked;
            
            document.getElementById('modalEmoji').textContent = isUnlocked ? character.emoji : 'ğŸ”’';
            document.getElementById('modalName').textContent = isUnlocked ? character.name : '???';
            document.getElementById('modalRoad').textContent = isUnlocked ? `å›½é“${character.road}å·` : 'å›½é“???å·';
            document.getElementById('modalDescription').textContent = isUnlocked ? character.description : 'ã“ã®å›½é“ã‚’èµ°ç ´ã™ã‚‹ã¨ä»²é–“ã«ãªã‚Šã¾ã™ã€‚';
            
            const statsHtml = isUnlocked ? 
                `<div style="background: rgba(76,175,80,0.1); padding: 10px; border-radius: 10px; margin-top: 15px;">
                    <strong>âœ“ å…¥æ‰‹æ¸ˆã¿ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</strong><br>
                    <small>å›½é“${character.road}å·ã‚’èµ°ç ´ã—ã¦ä»²é–“ã«ãªã‚Šã¾ã—ãŸï¼</small>
                </div>` :
                `<div style="background: rgba(158,158,158,0.1); padding: 10px; border-radius: 10px; margin-top: 15px;">
                    <strong>ğŸ”’ æœªå…¥æ‰‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</strong><br>
                    <small>å›½é“${character.road}å·ã‚’å®Œå…¨èµ°ç ´ã™ã‚‹ã¨ä»²é–“ã«ãªã‚Šã¾ã™ã€‚</small>
                </div>`;
            
            document.getElementById('modalStats').innerHTML = statsHtml;
            
            modal.style.display = 'block';
        }
        
        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        function closeModal() {
            document.getElementById('characterModal').style.display = 'none';
        }
        
        // ãƒãƒƒãƒ—ã«æˆ»ã‚‹
        function switchToMap() {
            window.location.href = 'gps9';
        }
        
        // æ–°ã—ã„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã‚¢ãƒ³ãƒ­ãƒƒã‚¯ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
        function unlockCharacter(roadNumber) {
            if (!unlockedCharacters.includes(roadNumber)) {
                unlockedCharacters.push(roadNumber);
                localStorage.setItem('unlockedCharacters', JSON.stringify(unlockedCharacters));
                displayCharacters();
                
                // ã‚¢ãƒ³ãƒ­ãƒƒã‚¯é€šçŸ¥
                const character = characters.find(char => char.road === roadNumber);
                if (character) {
                    alert(`ğŸ‰ æ–°ã—ã„ä»²é–“ãŒåŠ ã‚ã‚Šã¾ã—ãŸï¼\n${character.name}ï¼ˆå›½é“${roadNumber}å·ï¼‰`);
                }
            }
        }
        
        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('characterModal');
            if (event.target === modal) {
                closeModal();
            }
        });
        
        // åˆæœŸè¡¨ç¤º
        window.addEventListener('load', function() {
            displayCharacters();
            
            // ãƒ†ã‚¹ãƒˆç”¨ï¼šã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã‚¢ãƒ³ãƒ­ãƒƒã‚¯ã§ãã‚‹æ©Ÿèƒ½
            window.unlockCharacter = unlockCharacter;
            console.log('ãƒ†ã‚¹ãƒˆç”¨æ©Ÿèƒ½: unlockCharacter(å›½é“ç•ªå·) ã§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã‚¢ãƒ³ãƒ­ãƒƒã‚¯ã§ãã¾ã™');
            console.log('ä¾‹: unlockCharacter(3) ã§å›½é“3å·ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã‚¢ãƒ³ãƒ­ãƒƒã‚¯');
        });
    </script>
</body>
</html>